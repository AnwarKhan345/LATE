normalization.py: read csv [row=genes, col=cells], normalize similar to magic
started reading file: splat.OneGroup.csv
input matrix:
[Index(['Gene1', 'Gene2', 'Gene3', 'Gene4', 'Gene5', 'Gene6', 'Gene7', 'Gene8',
       'Gene9', 'Gene10',
       ...
       'Gene991', 'Gene992', 'Gene993', 'Gene994', 'Gene995', 'Gene996',
       'Gene997', 'Gene998', 'Gene999', 'Gene1000'],
      dtype='object', length=1000), Index(['Cell1', 'Cell2', 'Cell3', 'Cell4', 'Cell5', 'Cell6', 'Cell7', 'Cell8',
       'Cell9', 'Cell10',
       ...
       'Cell19991', 'Cell19992', 'Cell19993', 'Cell19994', 'Cell19995',
       'Cell19996', 'Cell19997', 'Cell19998', 'Cell19999', 'Cell20000'],
      dtype='object', length=20000)]
reading input took 7.6 seconds
filtered out any rows and columns with sum of zero
filtered matrix:
[Index(['Gene1', 'Gene2', 'Gene3', 'Gene4', 'Gene5', 'Gene6', 'Gene7', 'Gene8',
       'Gene9', 'Gene10',
       ...
       'Gene991', 'Gene992', 'Gene993', 'Gene994', 'Gene995', 'Gene996',
       'Gene997', 'Gene998', 'Gene999', 'Gene1000'],
      dtype='object', length=1000), Index(['Cell1', 'Cell2', 'Cell3', 'Cell4', 'Cell5', 'Cell6', 'Cell7', 'Cell8',
       'Cell9', 'Cell10',
       ...
       'Cell19991', 'Cell19992', 'Cell19993', 'Cell19994', 'Cell19995',
       'Cell19996', 'Cell19997', 'Cell19998', 'Cell19999', 'Cell20000'],
      dtype='object', length=20000)]
filtering took 0.4 seconds
normalized matrix:
[Index(['Gene1', 'Gene2', 'Gene3', 'Gene4', 'Gene5', 'Gene6', 'Gene7', 'Gene8',
       'Gene9', 'Gene10',
       ...
       'Gene991', 'Gene992', 'Gene993', 'Gene994', 'Gene995', 'Gene996',
       'Gene997', 'Gene998', 'Gene999', 'Gene1000'],
      dtype='object', length=1000), Index(['Cell1', 'Cell2', 'Cell3', 'Cell4', 'Cell5', 'Cell6', 'Cell7', 'Cell8',
       'Cell9', 'Cell10',
       ...
       'Cell19991', 'Cell19992', 'Cell19993', 'Cell19994', 'Cell19995',
       'Cell19996', 'Cell19997', 'Cell19998', 'Cell19999', 'Cell20000'],
      dtype='object', length=20000)]
normalization took 0.2 seconds
log transformed matrix:
[Index(['Gene1', 'Gene2', 'Gene3', 'Gene4', 'Gene5', 'Gene6', 'Gene7', 'Gene8',
       'Gene9', 'Gene10',
       ...
       'Gene991', 'Gene992', 'Gene993', 'Gene994', 'Gene995', 'Gene996',
       'Gene997', 'Gene998', 'Gene999', 'Gene1000'],
      dtype='object', length=1000), Index(['Cell1', 'Cell2', 'Cell3', 'Cell4', 'Cell5', 'Cell6', 'Cell7', 'Cell8',
       'Cell9', 'Cell10',
       ...
       'Cell19991', 'Cell19992', 'Cell19993', 'Cell19994', 'Cell19995',
       'Cell19996', 'Cell19997', 'Cell19998', 'Cell19999', 'Cell20000'],
      dtype='object', length=20000)]
log-tansformation took 0.3 seconds
saving output norm.hd5: /Users/rui/AUDREY_LAB/imputation/simulation/splatter/v1-1-5/normalization
saving splat.OneGroup.norm.hd5 took 1.0 seconds
saving output norm.log.hd5: /Users/rui/AUDREY_LAB/imputation/simulation/splatter/v1-1-5/normalization
saving splat.OneGroup.norm.log.hd5 took 1.0 seconds
saving output norm.csv.gz
saving splat.OneGroup.norm.csv.gz took 110.2 seconds
saving output norm.log.csv.gz
saving splat.OneGroup.norm.log.csv.gz took 173.2 seconds
